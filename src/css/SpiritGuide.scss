@import 'variables';
@import url('https://fonts.googleapis.com/css2?family=Crimson+Text:wght@400;700&display=swap');

// large Oval content area for text display
.spirit-guide-large {
    background: radial-gradient(ellipse at center,
        rgba(248, 248, 247, 0.397) 25%,
        rgba(239, 253, 253, 0.315) 35%,
        rgba(180, 226, 247, 0.123) 60%,
        rgba(255, 255, 255, 0.0) 100%);
    border-radius: 50% / 50%;
    display: flex;
    flex-direction: column;
    overflow: visible;
    align-items: center;
    justify-content: space-between;
    text-align: center;
    box-shadow: 0 0 40px rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
    width: 70vw;
    min-width: 260px;
    height: 75vh;
    max-width: 600px;
    max-height: 1500px;
    position: relative;
    top: 20px;
  
    &::before,
    &::after {
      content: "";
      position: absolute;
      top: -5px;
      left: -5px;
      right: -5px;
      bottom: -5px;
      border-radius: inherit;
      pointer-events: none;
    }
  
    &::before {
      background: radial-gradient(ellipse at center,
          rgba(248, 248, 247, 0.2) 0%,
          rgba(239, 253, 253, 0.15) 35%,
          rgba(180, 226, 247, 0.1) 70%,
          rgba(255, 255, 255, 0.0) 100%);
      animation:
        fluctuateSize 5s ease-in-out infinite,
        fluctuatePosition 7s ease-in-out infinite,
        fluctuateIntensity 7s ease-in-out infinite;
    }
  
    &::after {
      background: radial-gradient(ellipse at center,
          rgba(248, 248, 247, 0.1) 0%,
          rgba(239, 253, 253, 0.08) 35%,
          rgba(180, 226, 247, 0.05) 70%,
          rgba(255, 255, 255, 0.0) 100%);
      animation:
        fluctuateSize 7s ease-in-out infinite reverse,
        fluctuatePosition 7s ease-in-out infinite reverse,
        fluctuateIntensity 10s ease-in-out infinite;
    }
  }
  
  @keyframes fluctuateSize {
  
    0%,
    100% {
      transform: scale(1);
    }
  
    50% {
      transform: scale(1.2);
    }
  }
  
  @keyframes fluctuateIntensity {
  
    0%,
    100% {
      opacity: 0.4;
    }
  
    50% {
      opacity: 1;
    }
  }
  
  @keyframes fluctuatePosition {
  
    0%,
    100% {
      transform: translate(5, 5);
    }
  
    25% {
      transform: translate(3px, 5px);
    }
  
    50% {
      transform: translate(-5px, 4px);
    }
  
    75% {
      transform: translate(4px, -5px);
    }
  }
  
  @keyframes verticalShake {
  
    0%,
    100% {
      transform: translateY(0);
    }
  
    25% {
      transform: translateY(-5px);
    }
  
    75% {
      transform: translateY(5px);
    }
  }

  .spirit-guide-small {
    background: radial-gradient(ellipse at center,
      rgba(var(--spirit-guide-color, 248, 248, 247), 0.6) 25%,
      rgba(var(--spirit-guide-color, 239, 253, 253), 0.5) 35%,
      rgba(var(--spirit-guide-color, 180, 226, 247), 0.2) 60%,
      rgba(var(--spirit-guide-color, 255, 255, 255), 0.0) 100%);
    border-radius: 50% / 50%;
    padding: 20px;
    display: flex;
    flex-direction: column;
    overflow: visible;
    align-items: center;
    justify-content: space-between;
    text-align: center;
    box-shadow: 0 0 40px rgba(var(--spirit-guide-color, 255, 255, 255), 0.1);
    transition: all 0.3s ease;
    width: 10vw;
    min-width: 40px;
    height: 15vh;
    max-width: 70px;
    max-height: 90px;
    position: absolute;
    top: 60px;
    left: 40px;
  
    &::before,
    &::after {
      content: "";
      position: absolute;
      top: -5px;
      left: -5px;
      right: -5px;
      bottom: -5px;
      border-radius: inherit;
      pointer-events: none;
    }
  
    &::before {
      background: radial-gradient(ellipse at center,
        rgba(var(--spirit-guide-color, 248, 248, 247), 0.2) 0%,
        rgba(var(--spirit-guide-color, 239, 253, 253), 0.15) 35%,
        rgba(var(--spirit-guide-color, 180, 226, 247), 0.1) 70%,
        rgba(var(--spirit-guide-color, 255, 255, 255), 0.0) 100%);
      animation:
        fluctuateSize calc(5s / var(--spirit-guide-intensity, 1)) ease-in-out infinite,
        fluctuatePosition calc(7s / var(--spirit-guide-intensity, 1)) ease-in-out infinite,
        fluctuateIntensity calc(7s / var(--spirit-guide-intensity, 1)) ease-in-out infinite;
    }
  
    &::after {
      background: radial-gradient(ellipse at center,
        rgba(var(--spirit-guide-color, 248, 248, 247), 0.1) 0%,
        rgba(var(--spirit-guide-color, 239, 253, 253), 0.08) 35%,
        rgba(var(--spirit-guide-color, 180, 226, 247), 0.05) 70%,
        rgba(var(--spirit-guide-color, 255, 255, 255), 0.0) 100%);
      animation:
        fluctuateSize calc(7s / var(--spirit-guide-intensity, 1)) ease-in-out infinite reverse,
        fluctuatePosition calc(7s / var(--spirit-guide-intensity, 1)) ease-in-out infinite reverse,
        fluctuateIntensity calc(10s / var(--spirit-guide-intensity, 1)) ease-in-out infinite;
    }
  
    &.active {
      animation:
        pulsateActive calc(2s / var(--spirit-guide-intensity, 1)) ease-in-out infinite alternate,
        fluctuateActive calc(3s / var(--spirit-guide-intensity, 1)) ease-in-out infinite alternate;
    }
  }
  
  @keyframes pulsateNeutral {
    0% {
      transform: scale(0.95) translateY(0);
      border-radius: 50%;
    }
    50% {
      transform: scale(1.05) translateY(-2px);
      border-radius: 40%;
    }
    100% {
      transform: scale(0.95) translateY(0);
      border-radius: 50%;
    }
  }
  
  @keyframes fluctuateNeutral {
    0% {
      opacity: 0.6;
      box-shadow: 0 0 5px rgba($spooky-accent, 0.3);
    }
    50% {
      opacity: 0.8;
      box-shadow: 0 0 10px rgba($spooky-accent, 0.5);
    }
    100% {
      opacity: 0.6;
      box-shadow: 0 0 5px rgba($spooky-accent, 0.3);
    }
  }
  
  @keyframes pulsateActive {
    0% { 
      transform: scale(1);
      box-shadow: 0 0 10px rgba(var(--spirit-guide-color, 255, 255, 255), 0.3);
    }
    100% { 
      transform: scale(1.1);
      box-shadow: 0 0 20px rgba(var(--spirit-guide-color, 255, 255, 255), 0.5);
    }
  }
  
  @keyframes fluctuateActive {
    0% { opacity: 0.7; }
    100% { opacity: 1; }
  }